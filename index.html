<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tizian Rein // Praxis</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap');
        :root {
            --background: #000000; --foreground: #ffffff;
            --c1: #00fffa; --c2: #ff4a4a; --c3: #55ff3d;
            --c4: #ff3df4; --c5: #ffa800; --c6: #a800ff;
        }
        body {
            margin: 0; background-color: var(--background);
            color: var(--foreground); font-family: 'Roboto Mono', monospace;
            overflow: hidden;
        }
        #three-canvas { position: fixed; top: 0; left: 0; outline: none; }
        .topic-label {
            position: absolute; color: white; font-size: 16px;
            pointer-events: none; user-select: none;
        }
        .ui-panel { /* Same UI Panel styling as before */
            position: fixed; top: 0; width: 350px; height: 100%;
            background: rgba(10, 10, 10, 0.9); backdrop-filter: blur(5px);
            box-sizing: border-box; padding: 2rem;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            z-index: 100;
        }
        #project-panel { right: 0; transform: translateX(100%); border-left: 1px solid rgba(255,255,255,0.2); }
        #info-panel { left: 0; transform: translateX(-100%); border-right: 1px solid rgba(255,255,255,0.2); }
        .ui-panel.visible { transform: translateX(0); }
        .ui-panel h2 { margin-top: 0; }
        .ui-panel .close-btn { position: absolute; top: 1rem; right: 1rem; cursor: pointer; font-size: 1.5rem; }
        .top-ui {
            position: fixed; top: 2rem; width: calc(100% - 4rem); left: 2rem;
            display: flex; justify-content: space-between; z-index: 50;
        }
        .top-ui a { color: var(--foreground); text-decoration: none; cursor: pointer; }
        @media (max-width: 768px) { .ui-panel { width: 90%; } }
    </style>
</head>
<body>
    <div id="three-canvas"></div>
    <header class="top-ui"><span>Tizian Rein</span><a id="info-btn">Info / CV</a></header>
    <aside id="project-panel" class="ui-panel"><span class="close-btn" onclick="hidePanel('project-panel')">&times;</span><h2 id="project-title"></h2><p id="project-desc"></p></aside>
    <aside id="info-panel" class="ui-panel"><span class="close-btn" onclick="hidePanel('info-panel')">&times;</span><h2>Tizian Rein</h2><p>Architect focused on the intersection of building heritage and emergent digital technologies...</p><p><a href="#">Download CV (PDF)</a></p></aside>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // --- DATA ---
        const interestsConfig = [ /* Same data */ { name: 'comp', color: [0, 255, 250] }, { name: 'heritage', color: [255, 74, 74] }, { name: 'robotics', color: [85, 255, 61] }, { name: 'philosophy', color: [255, 61, 244] }, { name: 'writing', color: [255, 168, 0] }, { name: 'furniture', color: [168, 0, 255] }];
        const projects = [ /* Same data */ { id: 1, title: 'Generative Masonry', desc: 'Using algorithms to generate novel masonry patterns inspired by historical precedents.', interests: { comp: 0.9, heritage: 0.6, robotics: 0.7, philosophy: 0.3, writing: 0.1, furniture: 0.1 }, connections: [3, 4, 11] }, { id: 2, title: 'The Digital Archive', desc: 'A philosophical essay and digital platform on the nature of architectural archives in the age of AI.', interests: { comp: 0.4, heritage: 0.8, robotics: 0.2, philosophy: 0.9, writing: 0.9, furniture: 0.0 }, connections: [5, 15] }, { id: 3, title: 'Robotic Wood Joints', desc: 'Fabricating complex, non-standard timber joints with a 6-axis robotic arm.', interests: { comp: 0.7, heritage: 0.3, robotics: 0.9, philosophy: 0.1, writing: 0.1, furniture: 0.8 }, connections: [1, 7, 12] }, { id: 4, title: 'Point Cloud Preservation', desc: 'A methodology for using 3D scanning to document and analyze heritage sites at risk.', interests: { comp: 0.8, heritage: 0.9, robotics: 0.5, philosophy: 0.2, writing: 0.2, furniture: 0.0 }, connections: [1, 9] }, { id: 5, title: 'Critique of Automation', desc: 'An article examining the philosophical implications of automation in creative and construction fields.', interests: { comp: 0.1, heritage: 0.2, robotics: 0.3, philosophy: 0.9, writing: 1.0, furniture: 0.0 }, connections: [2, 13] }, { id: 6, title: 'CNC-Milled Chair', desc: 'A piece of furniture designed parametrically and fabricated using CNC milling from a single sheet of plywood.', interests: { comp: 0.6, heritage: 0.1, robotics: 0.4, philosophy: 0.2, writing: 0.0, furniture: 0.9 }, connections: [7, 3] }, { id: 7, title: 'Human-Robot Craft', desc: 'A research project exploring collaborative workflows between human artisans and robotic arms.', interests: { comp: 0.5, heritage: 0.4, robotics: 0.8, philosophy: 0.5, writing: 0.3, furniture: 0.6 }, connections: [3, 6, 14] }, { id: 8, title: 'Venetian Scaffolding Study', desc: 'A written and photographic documentation of traditional Venetian building and scaffolding techniques.', interests: { comp: 0.1, heritage: 0.9, robotics: 0.0, philosophy: 0.4, writing: 0.6, furniture: 0.3 }, connections: [2, 4] }, { id: 9, title: 'AI in Urban Planning', desc: 'Using machine learning models to analyze and predict urban growth patterns for heritage-sensitive cities.', interests: { comp: 0.9, heritage: 0.7, robotics: 0.6, philosophy: 0.6, writing: 0.5, furniture: 0.0 }, connections: [4, 1, 16] }, { id: 10, title: 'The Tectonic Statement', desc: 'A book chapter on the expression of construction logic and material honesty in architecture.', interests: { comp: 0.2, heritage: 0.5, robotics: 0.1, philosophy: 0.8, writing: 0.9, furniture: 0.4 }, connections: [2, 5, 8] }, { id: 11, title: '3D Printed Facades', desc: 'Developing a large-scale polymer extrusion system for creating bespoke architectural facade panels.', interests: { comp: 0.8, heritage: 0.4, robotics: 0.9, philosophy: 0.2, writing: 0.1, furniture: 0.1 }, connections: [1, 3] }, { id: 12, title: 'Plywood Pavilion', desc: 'A temporary structure designed with computational tools and assembled with simple joinery, exploring digital craft.', interests: { comp: 0.7, heritage: 0.2, robotics: 0.3, philosophy: 0.1, writing: 0.0, furniture: 0.7 }, connections: [3, 6] }, { id: 13, title: 'Ontology of the Tool', desc: 'A philosophical investigation into how tools, from the chisel to the robot, shape architectural thought.', interests: { comp: 0.1, heritage: 0.1, robotics: 0.4, philosophy: 1.0, writing: 0.8, furniture: 0.2 }, connections: [5, 7] }, { id: 14, title: 'Adaptive Gripper Design', desc: 'Engineering a robotic gripper capable of handling irregular and delicate historical artifacts.', interests: { comp: 0.6, heritage: 0.1, robotics: 1.0, philosophy: 0.3, writing: 0.0, furniture: 0.5 }, connections: [7, 3, 11] }, { id: 15, title: 'Material Memory', desc: 'An essay on material decay and digital persistence, questioning the idea of perfect preservation.', interests: { comp: 0.3, heritage: 0.9, robotics: 0.1, philosophy: 0.7, writing: 0.9, furniture: 0.2 }, connections: [2, 8, 10] }, { id: 16, title: 'Simulated Environments', desc: 'Using game engines for architectural visualization and the analysis of atmospheric conditions in preserved spaces.', interests: { comp: 1.0, heritage: 0.5, robotics: 0.5, philosophy: 0.4, writing: 0.2, furniture: 0.0 }, connections: [9, 4] }];

        // --- THREE.JS SETUP ---
        let scene, camera, renderer, controls, raycaster;
        const container = document.getElementById('three-canvas');
        const mouse = new THREE.Vector2();
        const CUBE_SIZE = 6;
        const projectMeshes = [];
        const mainGroup = new THREE.Group();

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 12;
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.3;
            controls.enablePan = false; // Disallow moving the cube
            controls.minDistance = 6;  // Zoom limits
            controls.maxDistance = 25;

            raycaster = new THREE.Raycaster();

            // --- CREATE OBJECTS ---
            // Wireframe Cube
            const geometry = new THREE.BoxGeometry(CUBE_SIZE, CUBE_SIZE, CUBE_SIZE);
            const edges = new THREE.EdgesGeometry(geometry);
            const lineMaterial = new THREE.LineBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0.5 });
            const cube = new THREE.LineSegments(edges, lineMaterial);
            mainGroup.add(cube);
            
            // Topic Labels
            const topics = [
                { name: 'Comp. Design', color: 'var(--c1)', pos: new THREE.Vector3(0, 0, CUBE_SIZE/2 + 1) },
                { name: 'Heritage', color: 'var(--c2)', pos: new THREE.Vector3(0, 0, -CUBE_SIZE/2 - 1) },
                { name: 'Robotics', color: 'var(--c3)', pos: new THREE.Vector3(CUBE_SIZE/2 + 1, 0, 0) },
                { name: 'Philosophy', color: 'var(--c4)', pos: new THREE.Vector3(-CUBE_SIZE/2 - 1, 0, 0) },
                { name: 'Writing', color: 'var(--c5)', pos: new THREE.Vector3(0, CUBE_SIZE/2 + 1, 0) },
                { name: 'Furniture', color: 'var(--c6)', pos: new THREE.Vector3(0, -CUBE_SIZE/2 - 1, 0) },
            ];
            topics.forEach(t => {
                const div = document.createElement('div');
                div.className = 'topic-label';
                div.textContent = t.name;
                div.style.color = t.color;
                div.userData = { position: t.pos };
                document.body.appendChild(div);
            });

            // Project Spheres
            const sphereGeom = new THREE.SphereGeometry(0.15, 32, 16);
            projects.forEach(p => {
                const x = (p.interests.comp - p.interests.heritage) * (CUBE_SIZE / 2);
                const y = (p.interests.writing - p.interests.furniture) * (CUBE_SIZE / 2);
                const z = (p.interests.robotics - p.interests.philosophy) * (CUBE_SIZE / 2);
                p.pos = new THREE.Vector3(x,y,z);

                let totalWeight = 0, r=0, g=0, b=0;
                interestsConfig.forEach(ic => {
                    const weight = p.interests[ic.name];
                    if (weight > 0) { totalWeight += weight; r += ic.color[0] * weight; g += ic.color[1] * weight; b += ic.color[2] * weight; }
                });
                const sphereColor = new THREE.Color(`rgb(${Math.round(r/totalWeight)}, ${Math.round(g/totalWeight)}, ${Math.round(b/totalWeight)})`);
                const sphereMat = new THREE.MeshBasicMaterial({ color: sphereColor });
                const sphere = new THREE.Mesh(sphereGeom, sphereMat);
                sphere.position.set(x, y, z);
                sphere.userData.project = p;
                mainGroup.add(sphere);
                projectMeshes.push(sphere);
            });
            
            // Connection Lines
            projects.forEach(p => {
                p.connections.forEach(connId => {
                    if (p.id < connId) {
                        const target = projects.find(proj => proj.id === connId);
                        const points = [p.pos, target.pos];
                        const lineGeom = new THREE.BufferGeometry().setFromPoints(points);
                        const line = new THREE.Line(lineGeom, new THREE.LineBasicMaterial({ color: 0xffff00, transparent: true, opacity: 0.5 }));
                        mainGroup.add(line);
                    }
                });
            });

            scene.add(mainGroup);
            
            // --- EVENT LISTENERS ---
            window.addEventListener('resize', onWindowResize);
            window.addEventListener('click', onClick);
            controls.addEventListener('start', () => controls.autoRotate = false);
            controls.addEventListener('end', () => controls.autoRotate = true);
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            updateLabels();
            renderer.render(scene, camera);
        }
        
        function updateLabels() {
            const labels = document.querySelectorAll('.topic-label');
            labels.forEach(label => {
                const pos = label.userData.position.clone();
                pos.project(camera);
                const x = (pos.x * .5 + .5) * window.innerWidth;
                const y = (pos.y * -.5 + .5) * window.innerHeight;
                label.style.transform = `translate(-50%, -50%) translate(${x}px, ${y}px)`;
            });
        }
        
        function onClick(event) {
            event.preventDefault();
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(projectMeshes);
            if (intersects.length > 0) {
                const project = intersects[0].object.userData.project;
                showProjectDetails(project);
            }
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        init();
        animate();

        // --- UI PANEL LOGIC ---
        const projectPanel = document.getElementById('project-panel');
        const infoPanel = document.getElementById('info-panel');
        function showProjectDetails(p) {
            hidePanel('info-panel');
            document.getElementById('project-title').textContent = p.title;
            document.getElementById('project-desc').textContent = p.desc;
            projectPanel.classList.add('visible');
        }
        document.getElementById('info-btn').addEventListener('click', () => {
            hidePanel('project-panel');
            infoPanel.classList.add('visible');
        });
        function hidePanel(id) {
            document.getElementById(id).classList.remove('visible');
        }
    </script>
</body>
</html>