<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tizian Rein - Ipsum Dolor Sit</title>
    <link rel="stylesheet" href="../css/style.css">

    <style>
        /* --- PROJECT SPECIFIC LAYOUT --- */
        main {
            padding-top: calc(var(--header-font-size) + (var(--header-padding) * 3));
            padding-bottom: 80px;
        }

        .project-main-layout {
            align-items: start;
            gap: 20px;
        }

        .project-text {
            grid-column: 1 / 3;
            position: sticky;
            top: 40px;
        }

        .project-text p {
            font-family: Arial, sans-serif; /* Safer font stack */
            font-size: 15px;
            line-height: 1.3;
            margin: 0;
            max-width: 90%;
        }

        .project-gallery {
            grid-column: 3 / -1;
            position: relative;
            overflow: hidden;
            cursor: pointer; /* Add pointer to indicate it's clickable */
        }

        .gallery-track {
            display: flex;
            height: 100%;
            transition: transform 0.7s ease-in-out;
        }

        .gallery-slide {
            flex-shrink: 0;
            width: 100%;
            height: 100%;
        }

        .gallery-slide img {
            width: 100%;
            height: auto;
            max-height: 80vh; 
            object-fit: contain; 
            display: block;
        }
        
        .slider-btn {
            position: absolute;
            top: 0px;
            z-index: 10;
            background: none;
            border: none;
            padding: 15px;
            font-size: 1.5rem;
            color: var(--text-color);
            cursor: pointer;
        }

        .slider-btn.is-hidden {
            opacity: 0;
            pointer-events: none;
        }

        .prev-btn { left: 180px; }
        .next-btn { right: 180px; }
        
        /* --- NEW: LIGHTBOX STYLES --- */
        .lightbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--background-color);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .lightbox-overlay.is-visible {
            opacity: 1;
            pointer-events: auto;
        }

        .lightbox-image {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
        }

        .lightbox-close {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            color: var(--text-color);
            background: none;
            border: none;
            cursor: pointer;
        }


        /* --- RESPONSIVE --- */
        @media (max-width: 1024px) {
            main {
                padding-top: calc(var(--header-font-size) + (var(--header-padding) * 3));
            }
            .project-main-layout {
                display: flex;
                flex-direction: column;
                gap: 40px;
            }
            .project-text,
            .project-gallery {
                grid-column: auto;
                width: 100%;
                position: relative; 
            }
            .project-text { position: static; }
            .project-text p { font-size: 16px; max-width: 100%; }
            .prev-btn { left: 10px; }
            .next-btn { right: 10px; }
        }
    </style>
</head>
<body>

    <!-- Manually added Mobile Navigation and Header -->
    <div class="corner-nav" aria-label="Mobile corner navigation"><a class="corner top-left" href="../index.html">tizian rein</a><a class="corner top-right" href="../info.html">info</a><a class="corner bottom-left" href="https://instagram.com/tizianrein" target="_blank" rel="noopener">instagram</a><a class="corner bottom-right" href="../contact.html">contact</a></div>
    <header><div class="grid-container"><h1 class="site-title"><a class="site-title-link" href="../index.html">tizian rein</a></h1><a href="../index.html" id="nav-work" class="active">work</a><a href="../info.html" id="nav-info">information</a><a href="../contact.html" id="nav-contact">contact</a></div></header>

    <main>
        <div class="grid-container project-main-layout">
            
            <section class="project-text">
                 <p>052<br>ZAKK Garden Chair<br><br>This is where you describe your project. Talk about the concept, the materials used, and the process. Keep it concise and impactful. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
            </section>

            <section class="project-gallery">
                <div class="gallery-track">
                    <div class="gallery-slide"><img src="../images/projects/053.1.jpg" alt="Project view 1"></div>
                    <div class="gallery-slide"><img src="../images/projects/053.2.jpg" alt="Project view 2"></div>
                    <div class="gallery-slide"><img src="../images/projects/053.3.jpg" alt="Project view 3"></div>
                    <div class="gallery-slide"><img src="../images/projects/053.4.jpg" alt="Project view 4"></div>
                    <div class="gallery-slide"><img src="../images/projects/053.5.jpg" alt="Project view 5"></div>
                    <div class="gallery-slide"><img src="../images/projects/053.6.jpg" alt="Project view 6"></div>
                    <div class="gallery-slide"><img src="../images/projects/053.7.jpg" alt="Project view 7"></div>
                </div>

                <button class="slider-btn prev-btn">&larr;</button>
                <button class="slider-btn next-btn">&rarr;</button>
            </section>
        </div>
    </main>

    <!-- NEW: HTML for the Lightbox (it starts hidden) -->
    <div id="lightbox" class="lightbox-overlay">
        <button class="lightbox-close">&times;</button>
        <img class="lightbox-image" src="" alt="Full-screen project view">
    </div>


    <!-- UPDATED JAVASCRIPT: Now includes swipe and lightbox functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gallery = document.querySelector('.project-gallery');
            const track = document.querySelector('.gallery-track');
            
            if (gallery && track) {
                const slides = Array.from(track.children);
                const nextButton = document.querySelector('.next-btn');
                const prevButton = document.querySelector('.prev-btn');
                const slideCount = slides.length;
                let currentSlide = 0;

                const moveToSlide = (targetSlide) => {
                    track.style.transform = `translateX(-${targetSlide * 100}%)`;
                    currentSlide = targetSlide;
                    updateArrows();
                };

                const updateArrows = () => {
                    prevButton.classList.toggle('is-hidden', currentSlide === 0);
                    nextButton.classList.toggle('is-hidden', currentSlide === slideCount - 1);
                    if (slideCount <= 1) {
                        prevButton.classList.add('is-hidden');
                        nextButton.classList.add('is-hidden');
                    }
                };

                nextButton.addEventListener('click', () => {
                    if (currentSlide < slideCount - 1) moveToSlide(currentSlide + 1);
                });

                prevButton.addEventListener('click', () => {
                    if (currentSlide > 0) moveToSlide(currentSlide - 1);
                });

                // --- NEW: SWIPE FUNCTIONALITY ---
                let touchStartX = 0;
                let touchEndX = 0;
                const swipeThreshold = 50; // Minimum pixels to be considered a swipe

                gallery.addEventListener('touchstart', e => {
                    touchStartX = e.changedTouches[0].screenX;
                }, { passive: true });

                gallery.addEventListener('touchend', e => {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                });

                const handleSwipe = () => {
                    if (touchEndX < touchStartX - swipeThreshold) { // Swiped left
                        if (currentSlide < slideCount - 1) moveToSlide(currentSlide + 1);
                    } else if (touchEndX > touchStartX + swipeThreshold) { // Swiped right
                        if (currentSlide > 0) moveToSlide(currentSlide - 1);
                    }
                };

                // --- NEW: LIGHTBOX FUNCTIONALITY ---
                const lightbox = document.getElementById('lightbox');
                const lightboxImage = lightbox.querySelector('.lightbox-image');
                const closeButton = lightbox.querySelector('.lightbox-close');

                const openLightbox = () => {
                    const currentImageSrc = slides[currentSlide].querySelector('img').src;
                    lightboxImage.src = currentImageSrc;
                    lightbox.classList.add('is-visible');
                };

                const closeLightbox = () => {
                    lightbox.classList.remove('is-visible');
                };

                track.addEventListener('click', openLightbox);
                closeButton.addEventListener('click', closeLightbox);
                // Also close if user clicks the background overlay
                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) {
                        closeLightbox();
                    }
                });


                // --- INITIALIZE ---
                updateArrows();
            }
        });
    </script>

</body>
</html>